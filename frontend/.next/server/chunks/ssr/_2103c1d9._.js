module.exports=[96438,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,variant:c="primary",size:e="md",isLoading:f,children:g,disabled:h,...i},j)=>(0,b.jsxs)("button",{ref:j,className:(0,d.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[c],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[e],(h||f)&&"opacity-50 cursor-not-allowed",a),disabled:h||f,...i,children:[f&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]}));e.displayName="Button",a.s(["Button",0,e])},62067,83456,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,title:c,subtitle:e,action:f,children:g,...h},i)=>(0,b.jsxs)("div",{ref:i,className:(0,d.cn)("bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",a),...h,children:[(c||e||f)&&(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[c&&(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c}),e&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),f&&(0,b.jsx)("div",{children:f})]}),(0,b.jsx)("div",{className:"p-6",children:g})]}));e.displayName="Card",a.s(["Card",0,e],62067);var f=a.i(33915),g=a.i(19032),h=a.i(6704);let i=(0,f.create)((a,b)=>({sites:[],currentSite:null,isLoading:!1,fetchSites:async()=>{a({isLoading:!0});try{let b=await g.sitesAPI.getAll();a({sites:b.data.data,isLoading:!1})}catch(b){a({isLoading:!1})}},fetchSite:async b=>{a({isLoading:!0});try{let c=await g.sitesAPI.getOne(b);a({currentSite:c.data.data,isLoading:!1})}catch(b){a({isLoading:!1})}},createSite:async b=>{a({isLoading:!0});try{let c=(await g.sitesAPI.create(b)).data.data;return a(a=>({sites:[...a.sites,c],isLoading:!1})),h.toast.success("সাইট তৈরি হয়েছে!"),c}catch(b){return a({isLoading:!1}),null}},updateSite:async(b,c)=>{try{let d=(await g.sitesAPI.update(b,c)).data.data;return a(a=>({sites:a.sites.map(a=>a._id===b?d:a),currentSite:a.currentSite?._id===b?d:a.currentSite})),h.toast.success("সাইট আপডেট হয়েছে!"),!0}catch(a){return!1}},deleteSite:async b=>{try{return await g.sitesAPI.delete(b),a(a=>({sites:a.sites.filter(a=>a._id!==b)})),h.toast.success("সাইট ডিলিট হয়েছে!"),!0}catch(a){return!1}},setCurrentSite:b=>{a({currentSite:b})}}));a.s(["useSites",0,i],83456)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},19292,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70106);let f=(0,e.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),g=(0,e.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),h=(0,e.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var i=a.i(77156),j=a.i(21161),k=a.i(62067),l=a.i(96438),m=a.i(83456),n=a.i(19032),o=a.i(68114),p=a.i(6704),q=a.i(38246);function r(){let a=(0,d.useParams)(),e=(0,d.useRouter)(),r=a.siteId,{currentSite:s,fetchSite:t}=(0,m.useSites)(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1);(0,c.useEffect)(()=>{r&&(t(r),y())},[r]);let y=async()=>{try{let a=await n.sitesAPI.getKeys(r);v(a.data.data)}catch(a){console.error("Failed to load keys")}},z=async()=>{if(confirm("নতুন API key তৈরি করলে পুরনো key কাজ করবে না। নিশ্চিত?"))try{let a=await n.sitesAPI.regenerateKey(r);v(a.data.data),p.toast.success("নতুন API key তৈরি হয়েছে")}catch(a){p.toast.error("Failed to regenerate key")}},A=(a,b)=>{(0,o.copyToClipboard)(a),p.toast.success(`${b} copied!`)};return s?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>e.push("/sites"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(f,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:s.domain})]}),(0,b.jsx)(q.default,{href:`/sites/${r}/settings`,children:(0,b.jsxs)(l.Button,{variant:"secondary",children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4 mr-2"}),"Settings"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsx)(k.Card,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Visitors"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatNumber)(s.stats.totalVisitors)})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Events"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatNumber)(s.stats.totalEvents)})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Conversions"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatNumber)(s.stats.totalConversions)})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatPercentage)(s.stats.conversionRate)})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(q.default,{href:`/sites/${r}/variants`,children:(0,b.jsx)(k.Card,{className:"hover:border-primary-300 transition-colors cursor-pointer",children:(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)(i.Eye,{className:"w-8 h-8 text-primary-600 mx-auto mb-2"}),(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Variants"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage content variants"})]})})}),(0,b.jsx)(q.default,{href:`/sites/${r}/analytics`,children:(0,b.jsx)(k.Card,{className:"hover:border-primary-300 transition-colors cursor-pointer",children:(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)(i.Eye,{className:"w-8 h-8 text-primary-600 mx-auto mb-2"}),(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Analytics"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"View detailed analytics"})]})})}),(0,b.jsx)(q.default,{href:`/sites/${r}/settings`,children:(0,b.jsx)(k.Card,{className:"hover:border-primary-300 transition-colors cursor-pointer",children:(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)(j.Settings,{className:"w-8 h-8 text-primary-600 mx-auto mb-2"}),(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Settings"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Configure site settings"})]})})})]}),(0,b.jsx)(k.Card,{title:"API Keys",subtitle:"আপনার website এ SDK integrate করার জন্য",action:(0,b.jsxs)(l.Button,{variant:"secondary",size:"sm",onClick:z,children:[(0,b.jsx)(h,{className:"w-4 h-4 mr-2"}),"Regenerate"]}),children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site ID"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:u?.siteId||s.siteId,readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"}),(0,b.jsx)(l.Button,{variant:"secondary",onClick:()=>A(u?.siteId||s.siteId,"Site ID"),children:(0,b.jsx)(g,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:w?"text":"password",value:u?.apiKey||"••••••••••••••••",readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"}),(0,b.jsx)(l.Button,{variant:"secondary",onClick:()=>x(!w),children:(0,b.jsx)(i.Eye,{className:"w-4 h-4"})}),(0,b.jsx)(l.Button,{variant:"secondary",onClick:()=>A(u?.apiKey,"API Key"),children:(0,b.jsx)(g,{className:"w-4 h-4"})})]})]})]})}),(0,b.jsx)(k.Card,{title:"Installation",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"আপনার website এ এই code যোগ করুন (closing </body> tag এর আগে):"}),(0,b.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:`<script>
(function() {
  var script = document.createElement('script');
  script.src = 'https://cdn.personaflow.ai/sdk.js';
  script.onload = function() {
    PersonaFlow.init({
      siteId: '${s.siteId}',
      apiKey: '${u?.apiKey||"YOUR_API_KEY"}'
    });
  };
  document.body.appendChild(script);
})();
</script>`}),(0,b.jsxs)(l.Button,{variant:"secondary",onClick:()=>{let a=`<script>
(function() {
  var script = document.createElement('script');
  script.src = 'https://cdn.personaflow.ai/sdk.js';
  script.onload = function() {
    PersonaFlow.init({
      siteId: '${s.siteId}',
      apiKey: '${u?.apiKey||"YOUR_API_KEY"}'
    });
  };
  document.body.appendChild(script);
})();
</script>`;(0,o.copyToClipboard)(a),p.toast.success("Code copied!")},children:[(0,b.jsx)(g,{className:"w-4 h-4 mr-2"}),"Copy Code"]})]})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}a.s(["default",()=>r],19292)}];

//# sourceMappingURL=_2103c1d9._.js.map