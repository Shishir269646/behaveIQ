module.exports=[96438,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,variant:c="primary",size:e="md",isLoading:f,children:g,disabled:h,...i},j)=>(0,b.jsxs)("button",{ref:j,className:(0,d.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[c],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[e],(h||f)&&"opacity-50 cursor-not-allowed",a),disabled:h||f,...i,children:[f&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]}));e.displayName="Button",a.s(["Button",0,e])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,label:c,error:e,...f},g)=>(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c}),(0,b.jsx)("input",{ref:g,className:(0,d.cn)("w-full px-4 py-2 border border-gray-300 rounded-lg","focus:ring-2 focus:ring-primary-500 focus:border-transparent","outline-none transition-all duration-200",e&&"border-red-500 focus:ring-red-500",a),...f}),e&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:e})]}));e.displayName="Input",a.s(["Input",0,e])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},62067,83456,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,title:c,subtitle:e,action:f,children:g,...h},i)=>(0,b.jsxs)("div",{ref:i,className:(0,d.cn)("bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",a),...h,children:[(c||e||f)&&(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[c&&(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c}),e&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),f&&(0,b.jsx)("div",{children:f})]}),(0,b.jsx)("div",{className:"p-6",children:g})]}));e.displayName="Card",a.s(["Card",0,e],62067);var f=a.i(33915),g=a.i(19032),h=a.i(6704);let i=(0,f.create)((a,b)=>({sites:[],currentSite:null,isLoading:!1,fetchSites:async()=>{a({isLoading:!0});try{let b=await g.sitesAPI.getAll();a({sites:b.data.data,isLoading:!1})}catch(b){a({isLoading:!1})}},fetchSite:async b=>{a({isLoading:!0});try{let c=await g.sitesAPI.getOne(b);a({currentSite:c.data.data,isLoading:!1})}catch(b){a({isLoading:!1})}},createSite:async b=>{a({isLoading:!0});try{let c=(await g.sitesAPI.create(b)).data.data;return a(a=>({sites:[...a.sites,c],isLoading:!1})),h.toast.success("সাইট তৈরি হয়েছে!"),c}catch(b){return a({isLoading:!1}),null}},updateSite:async(b,c)=>{try{let d=(await g.sitesAPI.update(b,c)).data.data;return a(a=>({sites:a.sites.map(a=>a._id===b?d:a),currentSite:a.currentSite?._id===b?d:a.currentSite})),h.toast.success("সাইট আপডেট হয়েছে!"),!0}catch(a){return!1}},deleteSite:async b=>{try{return await g.sitesAPI.delete(b),a(a=>({sites:a.sites.filter(a=>a._id!==b)})),h.toast.success("সাইট ডিলিট হয়েছে!"),!0}catch(a){return!1}},setCurrentSite:b=>{a({currentSite:b})}}));a.s(["useSites",0,i],83456)},622,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,label:c,error:e,options:f,...g},h)=>(0,b.jsxs)("div",{className:"w-full",children:[c&&(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c}),(0,b.jsx)("select",{ref:h,className:(0,d.cn)("w-full px-4 py-2 border border-gray-300 rounded-lg","focus:ring-2 focus:ring-primary-500 focus:border-transparent","outline-none transition-all duration-200",e&&"border-red-500 focus:ring-red-500",a),...g,children:f.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),e&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:e})]}));e.displayName="Select",a.s(["Select",0,e])},23960,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70106);let f=(0,e.default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var g=a.i(81560);let h=(0,e.default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var i=a.i(62067),j=a.i(96438),k=a.i(94988),l=a.i(622),m=a.i(83456),n=a.i(6704);function o(){let a=(0,d.useParams)(),e=(0,d.useRouter)(),o=a.siteId,{currentSite:p,fetchSite:q,updateSite:r,deleteSite:s}=(0,m.useSites)(),[t,u]=(0,c.useState)({name:"",domain:"",cookielessMode:!1,botFilterEnabled:!0,privacyMode:"standard",dataRetentionDays:90,status:"active"}),[v,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o&&q(o)},[o]),(0,c.useEffect)(()=>{p&&u({name:p.name,domain:p.domain,cookielessMode:p.settings.cookielessMode,botFilterEnabled:p.settings.botFilterEnabled,privacyMode:p.settings.privacyMode,dataRetentionDays:p.settings.dataRetentionDays,status:p.status})},[p]);let x=async a=>{a.preventDefault(),w(!0),await r(o,{name:t.name,domain:t.domain,settings:{cookielessMode:t.cookielessMode,botFilterEnabled:t.botFilterEnabled,privacyMode:t.privacyMode,dataRetentionDays:t.dataRetentionDays},status:t.status}),w(!1)},y=async()=>{let a=prompt("আপনি কি সত্যিই এই site মুছে ফেলতে চান? এটি পুনরুদ্ধার করা যাবে না।\n\nনিশ্চিত করতে site name টাইপ করুন:");a===p?.name?await s(o)&&e.push("/sites"):null!==a&&n.toast.error("Site name মিলেনি")};return p?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),(0,b.jsxs)("p",{className:"text-gray-600 mt-2",children:[p.name," এর configuration manage করুন"]})]}),(0,b.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,b.jsx)(i.Card,{title:"Basic Information",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(k.Input,{label:"Site Name",type:"text",required:!0,value:t.name,onChange:a=>u({...t,name:a.target.value})}),(0,b.jsx)(k.Input,{label:"Domain",type:"text",required:!0,value:t.domain,onChange:a=>u({...t,domain:a.target.value})}),(0,b.jsx)(l.Select,{label:"Status",value:t.status,onChange:a=>u({...t,status:a.target.value}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"}]})]})}),(0,b.jsx)(i.Card,{title:"Privacy Settings",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"cookielessMode",checked:t.cookielessMode,onChange:a=>u({...t,cookielessMode:a.target.checked}),className:"mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"cookielessMode",className:"font-medium text-gray-900 cursor-pointer",children:"Cookieless Mode"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Cookie ছাড়া tracking করুন (GDPR-friendly)"})]})]}),(0,b.jsx)(l.Select,{label:"Privacy Mode",value:t.privacyMode,onChange:a=>u({...t,privacyMode:a.target.value}),options:[{value:"standard",label:"Standard"},{value:"strict",label:"Strict (Maximum Privacy)"}]}),(0,b.jsx)(k.Input,{label:"Data Retention Days",type:"number",min:"1",max:"365",value:t.dataRetentionDays,onChange:a=>u({...t,dataRetentionDays:parseInt(a.target.value)})})]})}),(0,b.jsx)(i.Card,{title:"Security Settings",children:(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"botFilterEnabled",checked:t.botFilterEnabled,onChange:a=>u({...t,botFilterEnabled:a.target.checked}),className:"mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"botFilterEnabled",className:"font-medium text-gray-900 cursor-pointer",children:"Bot Detection"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"স্বয়ংক্রিয়ভাবে bot traffic filter করুন"})]})]})})}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(j.Button,{type:"submit",isLoading:v,children:[(0,b.jsx)(f,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}),(0,b.jsx)(i.Card,{children:(0,b.jsx)("div",{className:"border-2 border-red-200 rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(h,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Danger Zone"}),(0,b.jsx)("p",{className:"text-sm text-red-700 mb-4",children:"সাবধান! এই site মুছে ফেললে সব data, variants, এবং analytics হারিয়ে যাবে। এটি পুনরুদ্ধার করা যাবে না।"}),(0,b.jsxs)(j.Button,{variant:"danger",onClick:y,children:[(0,b.jsx)(g.Trash2,{className:"w-4 h-4 mr-2"}),"Delete Site"]})]})]})})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}a.s(["default",()=>o],23960)}];

//# sourceMappingURL=_828bcba6._.js.map