(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39964,3793,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=(0,s.forwardRef)(({className:e,title:s,subtitle:r,action:i,children:l,...n},d)=>(0,t.jsxs)("div",{ref:d,className:(0,a.cn)("bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",e),...n,children:[(s||r||i)&&(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[s&&(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s}),r&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),i&&(0,t.jsx)("div",{children:i})]}),(0,t.jsx)("div",{className:"p-6",children:l})]}));r.displayName="Card",e.s(["Card",0,r],39964);var i=e.i(6344),l=e.i(9165),n=e.i(5766);let d=(0,i.create)((e,t)=>({sites:[],currentSite:null,isLoading:!1,fetchSites:async()=>{e({isLoading:!0});try{let t=await l.sitesAPI.getAll();e({sites:t.data.data,isLoading:!1})}catch(t){e({isLoading:!1})}},fetchSite:async t=>{e({isLoading:!0});try{let s=await l.sitesAPI.getOne(t);e({currentSite:s.data.data,isLoading:!1})}catch(t){e({isLoading:!1})}},createSite:async t=>{e({isLoading:!0});try{let s=(await l.sitesAPI.create(t)).data.data;return e(e=>({sites:[...e.sites,s],isLoading:!1})),n.toast.success("সাইট তৈরি হয়েছে!"),s}catch(t){return e({isLoading:!1}),null}},updateSite:async(t,s)=>{try{let a=(await l.sitesAPI.update(t,s)).data.data;return e(e=>({sites:e.sites.map(e=>e._id===t?a:e),currentSite:e.currentSite?._id===t?a:e.currentSite})),n.toast.success("সাইট আপডেট হয়েছে!"),!0}catch(e){return!1}},deleteSite:async t=>{try{return await l.sitesAPI.delete(t),e(e=>({sites:e.sites.filter(e=>e._id!==t)})),n.toast.success("সাইট ডিলিট হয়েছে!"),!0}catch(e){return!1}},setCurrentSite:t=>{e({currentSite:t})}}));e.s(["useSites",0,d],3793)},59544,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=(0,s.forwardRef)(({className:e,variant:s="primary",size:r="md",isLoading:i,children:l,disabled:n,...d},c)=>(0,t.jsxs)("button",{ref:c,className:(0,a.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r],(n||i)&&"opacity-50 cursor-not-allowed",e),disabled:n||i,...d,children:[i&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]}));r.displayName="Button",e.s(["Button",0,r])},3812,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=(0,s.forwardRef)(({className:e,label:s,error:r,...i},l)=>(0,t.jsxs)("div",{className:"w-full",children:[s&&(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,t.jsx)("input",{ref:l,className:(0,a.cn)("w-full px-4 py-2 border border-gray-300 rounded-lg","focus:ring-2 focus:ring-primary-500 focus:border-transparent","outline-none transition-all duration-200",r&&"border-red-500 focus:ring-red-500",e),...i}),r&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r})]}));r.displayName="Input",e.s(["Input",0,r])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},7233,32098,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233);var a=e.i(43476),r=e.i(71645);let i=(0,t.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var l=e.i(75157);function n({isOpen:e,onClose:t,title:s,children:n,size:d="md"}){return((0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:(0,l.cn)("relative w-full bg-white rounded-xl shadow-xl",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[d]),children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:s}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(i,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"px-6 py-4",children:n})]})})]}):null}e.s(["Modal",()=>n],32098)},30844,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(7233),r=e.i(48256),i=e.i(27612),l=e.i(39964),n=e.i(59544),d=e.i(32098),c=e.i(3812),o=e.i(3793),x=e.i(75157),m=e.i(22016);function u(){let{sites:e,fetchSites:u,createSite:h,deleteSite:y,isLoading:g}=(0,o.useSites)(),[p,f]=(0,s.useState)(!1),[j,b]=(0,s.useState)({name:"",domain:""});(0,s.useEffect)(()=>{u()},[]);let v=async e=>{e.preventDefault(),await h(j)&&(f(!1),b({name:"",domain:""}))},N=async e=>{confirm("আপনি কি নিশ্চিত এই site delete করতে চান?")&&await y(e)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sites"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"আপনার websites manage করুন"})]}),(0,t.jsxs)(n.Button,{onClick:()=>f(!0),children:[(0,t.jsx)(a.Plus,{className:"w-4 h-4 mr-2"}),"New Site"]})]}),g?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===e.length?(0,t.jsx)(l.Card,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(r.Globe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No sites yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"প্রথম site তৈরি করে শুরু করুন"}),(0,t.jsxs)(n.Button,{onClick:()=>f(!0),children:[(0,t.jsx)(a.Plus,{className:"w-4 h-4 mr-2"}),"Create First Site"]})]})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsx)(l.Card,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.domain})]}),(0,t.jsx)("div",{className:`
                    px-2 py-1 rounded text-xs font-medium
                    ${"active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}
                  `,children:e.status})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Visitors"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(0,x.formatNumber)(e.stats.totalVisitors)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Conversions"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(0,x.formatNumber)(e.stats.totalConversions)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[(0,t.jsx)(m.default,{href:`/sites/${e._id}`,className:"flex-1 px-3 py-2 text-sm font-medium text-primary-600 hover:bg-primary-50 rounded-lg transition-colors text-center",children:"View Details"}),(0,t.jsx)("button",{onClick:()=>N(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,t.jsx)(i.Trash2,{className:"w-4 h-4"})})]})]})},e._id))}),(0,t.jsx)(d.Modal,{isOpen:p,onClose:()=>f(!1),title:"Create New Site",children:(0,t.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,t.jsx)(c.Input,{label:"Site Name",type:"text",required:!0,value:j.name,onChange:e=>b({...j,name:e.target.value}),placeholder:"My Awesome Site"}),(0,t.jsx)(c.Input,{label:"Domain",type:"text",required:!0,value:j.domain,onChange:e=>b({...j,domain:e.target.value}),placeholder:"example.com"}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(n.Button,{type:"button",variant:"secondary",onClick:()=>f(!1),className:"flex-1",children:"Cancel"}),(0,t.jsx)(n.Button,{type:"submit",className:"flex-1",children:"Create Site"})]})]})})]})}e.s(["default",()=>u])}]);