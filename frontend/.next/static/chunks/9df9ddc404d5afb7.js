(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39964,3793,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=(0,s.forwardRef)(({className:e,title:s,subtitle:r,action:i,children:l,...n},d)=>(0,t.jsxs)("div",{ref:d,className:(0,a.cn)("bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",e),...n,children:[(s||r||i)&&(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[s&&(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s}),r&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),i&&(0,t.jsx)("div",{children:i})]}),(0,t.jsx)("div",{className:"p-6",children:l})]}));r.displayName="Card",e.s(["Card",0,r],39964);var i=e.i(6344),l=e.i(9165),n=e.i(5766);let d=(0,i.create)((e,t)=>({sites:[],currentSite:null,isLoading:!1,fetchSites:async()=>{e({isLoading:!0});try{let t=await l.sitesAPI.getAll();e({sites:t.data.data,isLoading:!1})}catch(t){e({isLoading:!1})}},fetchSite:async t=>{e({isLoading:!0});try{let s=await l.sitesAPI.getOne(t);e({currentSite:s.data.data,isLoading:!1})}catch(t){e({isLoading:!1})}},createSite:async t=>{e({isLoading:!0});try{let s=(await l.sitesAPI.create(t)).data.data;return e(e=>({sites:[...e.sites,s],isLoading:!1})),n.toast.success("সাইট তৈরি হয়েছে!"),s}catch(t){return e({isLoading:!1}),null}},updateSite:async(t,s)=>{try{let a=(await l.sitesAPI.update(t,s)).data.data;return e(e=>({sites:e.sites.map(e=>e._id===t?a:e),currentSite:e.currentSite?._id===t?a:e.currentSite})),n.toast.success("সাইট আপডেট হয়েছে!"),!0}catch(e){return!1}},deleteSite:async t=>{try{return await l.sitesAPI.delete(t),e(e=>({sites:e.sites.filter(e=>e._id!==t)})),n.toast.success("সাইট ডিলিট হয়েছে!"),!0}catch(e){return!1}},setCurrentSite:t=>{e({currentSite:t})}}));e.s(["useSites",0,d],3793)},33602,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(39964),r=e.i(3793),i=e.i(75254);let l=(0,i.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),n=(0,i.default)("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),d=(0,i.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),c=(0,i.default)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var o=e.i(75157);function x(){let{sites:e,fetchSites:i}=(0,r.useSites)(),[x,m]=(0,s.useState)({totalVisitors:0,totalEvents:0,totalConversions:0,avgConversionRate:0});return(0,s.useEffect)(()=>{i()},[]),(0,s.useEffect)(()=>{if(e.length>0){let t=e.reduce((e,t)=>({totalVisitors:e.totalVisitors+t.stats.totalVisitors,totalEvents:e.totalEvents+t.stats.totalEvents,totalConversions:e.totalConversions+t.stats.totalConversions,avgConversionRate:e.avgConversionRate+t.stats.conversionRate}),{totalVisitors:0,totalEvents:0,totalConversions:0,avgConversionRate:0});t.avgConversionRate=t.avgConversionRate/e.length,m(t)}},[e]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome back! এখানে আপনার overview দেখুন।"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(a.Card,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Visitors"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatNumber)(x.totalVisitors)})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(l,{className:"w-6 h-6 text-primary-600"})})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Events"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatNumber)(x.totalEvents)})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(n,{className:"w-6 h-6 text-green-600"})})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Conversions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatNumber)(x.totalConversions)})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(d,{className:"w-6 h-6 text-yellow-600"})})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(0,o.formatPercentage)(x.avgConversionRate)})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(c,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,t.jsx)(a.Card,{title:"Your Sites",children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"আপনার কোন site নেই"}),(0,t.jsx)("a",{href:"/sites",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Create First Site"})]}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-primary-300 transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.domain})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Visitors"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,o.formatNumber)(e.stats.totalVisitors)})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Conversions"}),(0,t.jsx)("p",{className:"font-semibold",children:(0,o.formatNumber)(e.stats.totalConversions)})]}),(0,t.jsx)("a",{href:`/sites/${e._id}`,className:"px-4 py-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:"View"})]})]},e._id))})})]})}e.s(["default",()=>x],33602)}]);